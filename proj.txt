Skip to content
Navigation Menu
codad5
keybinder

Type / to search
Code
Issues
1
Pull requests
Discussions
Actions
Projects
Wiki
Security
Insights
Settings
Owner avatar
keybinder
Public
codad5/keybinder
Go to file
t
Name		
codad5
codad5
Update README.md
dcd19d9
 ¬∑ 
3 years ago
.github/workflows
ok
3 years ago
__tests__
remove shift on non aplhanumerickeys
3 years ago
lib
fixes on keyup and down
3 years ago
src
fixes on keyup and down
3 years ago
.gitignore
fixes on keyup and down
3 years ago
CODE_OF_CONDUCT.md
Create CODE_OF_CONDUCT.md
3 years ago
LICENSE
Create LICENSE
3 years ago
README.md
Update README.md
3 years ago
index.html
nothing
3 years ago
jest.config.ts
added tests
3 years ago
package-lock.json
more
3 years ago
package.json
fixes on keyup and down
3 years ago
rollup.config.js
fixes
3 years ago
tsconfig.json
fixes
3 years ago
Repository files navigation
README
Code of conduct
MIT license
Key Bonder/Binder
Watch the video

This is a javascript library for frontend development (both vallina and frameworks) that helps with keyboard binding / combinations .

This currently supports most keys in windows OS you can visit the Home page to check the key code for your machine

Requirement
Your script need to be running on a web server, for development you could use,
live server extension is vscode
node npx server by running npx serve
to avoid errors like KeyBinder Cors error
How to use
Install and Import
Using Vallina javascript
<script src="https://codad5.github.io/keybinder/lib/keybinder.js"></script>
Using a framework
Install
npm i domkeybinder
Import
import KeyBinder from 'domkeybinder'
Initialize your controller object
Define your keyboard Controller
const keyController = new KeyBinder({
    default_listener: 'keyup', // can be keydown, keypress
    element: window, // can be any element or window eg `docmuent.querySelector('.myeditor')
    // case_sensitive:true, // this is if you want to make the listener case sensitive
    allow_default: true // this is set to default of false and prevents any default keyboard action
})
Add your listener
For easier and better coding experience it best to create a sub function like this

const ListenToKey = (key, ...data) => keyController.ListenToKey(key, ...data)
Then you can add listeners like this

ListenToKey('B+G', () => {
    //your code...
})

ListenToKey('shift+c', () => {
    //your code...
})
OR this

keyController.ListenToKey('enter', (data) => {
    //your code...
})

keyController.ListenToKey('ctrl+space', () => {
    //your code...
})
Diffrent Combination one action
This is if you want to one action(callback), tied to different combination

ListenToKey('ctrl+space', 'ctrl+m', () => {
    alert(`your called ${data.combination}`)
    document.querySelector('#scdiv').innerHTML += 'Do you mean Ctrl+c? try Ctrl+c'
})
Avaliable methods
method	Description
ListenToKey	Add new Listener
getCombinations	Get all avaliable combinations
clear	Remove all avaliable combinations
restore	Restore all previous avaliable combinations
Check Our Test Website to see the avaliable key commands for

Key	listener - Command
Control	ctrl
Shift	Shift
Alt	Alt
A	A
A...Z	A...Z
A...Z	A...Z
>	arrowup
1	!
1...9	1...9
f1...f9	f1...f9
Windows - Home Buttom	meta
Listen to any other key	***
Todos
 Accept Your pull request ‚úî
This is built by Codad5 and ptbysr with ‚ù§ and ‚ö°

About
This is a Javascript library that helps with listening to browser Keyboard changes, and also helps in managing keyboard shortcuts in the browser. browser keyboard controller

codad5.github.io/keybinder
Topics
javascript keyboard typescript dom keybindings keyboard-events shortcut-fusion shortcuts-app
Resources
 Readme
License
 MIT license
Code of conduct
 Code of conduct
 Activity
Stars
 15 stars
Watchers
 1 watching
Forks
 0 forks
Releases 1
Cypher
Latest
on Dec 6, 2022
Deployments
40
 github-pages 3 years ago
+ 39 deployments
Languages
TypeScript
50.8%
 
JavaScript
30.3%
 
HTML
18.9%
Suggested workflows
Based on your tech stack
Publish Node.js Package to GitHub Packages logo
Publish Node.js Package to GitHub Packages
Publishes a Node.js package to GitHub Packages.
Deno logo
Deno
Test your Deno project
Webpack logo
Webpack
Build a NodeJS project with npm and webpack.
More workflows
Footer
¬© 2025 GitHub, Inc.
Footer navigation
Terms
Privacy
Security
Status
Community
Docs
Contact
Manage cookies
Do not share my personal information



Skip to content
Navigation Menu
codad5
hard-sync-cli

Type / to search
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
1
Insights
Settings
Owner avatar
hard-sync-cli
Public
codad5/hard-sync-cli
Go to file
t
Name		
codad5
codad5
Handle potential errors in file creation time retrieval by using UNIX‚Ä¶
59bd1c1
 ¬∑ 
last year
.vscode
Refactor file path handling in map_path_to_target function
2 years ago
src
Handle potential errors in file creation time retrieval by using UNIX‚Ä¶
last year
.gitignore
ignore test-data
last year
Cargo.lock
Added file ignore system
last year
Cargo.toml
Add binary target for hsync and improve error messages in sync_callback
last year
Dockerfile
Add Dockerfile and docker-compose.yml for containerized development e‚Ä¶
last year
README.md
Update README.md for improved clarity and add advanced features secti‚Ä¶
last year
docker-compose.yml
Add Dockerfile and docker-compose.yml for containerized development e‚Ä¶
last year
Repository files navigation
README
Hard-Sync-CLI
Hard-Sync-CLI is a fast and lightweight command-line tool for synchronizing two directories, written in Rust. It offers powerful features, including support for dry runs, file exclusion, and reverse syncing, making it a practical solution for anyone looking to manage file syncing efficiently.

üöÄ Why Hard-Sync-CLI?
Speed and Simplicity: Written in Rust, ensuring fast and reliable performance.
Customization: Allows file exclusion and dry-run testing to give you full control.
Learning Project: Built as a hands-on project to explore Rust programming while solving a real-world problem.
üì• Installation
Install From Source
Prerequisites: Install Rust and Cargo (Get Rust).
Clone this repository:
git clone https://github.com/your-username/hard-sync-cli.git
cd hard-sync-cli
Install the tool globally:
cargo install --path .
Confirm the installation:
hsync --help
Install From Binary
Prebuilt binaries will be available on the Releases Page.

üíª Usage
General Help
To display the help message:

hsync --help
Command: sync
The sync command synchronizes files between two directories.

Basic Usage
hsync sync --src <source_directory> --dest <destination_directory>
Options
Option	Short-Hand	Description
--src <path>	-s <path>	Source directory to sync from.
--dest <path>	-d <path>	Destination directory to sync to.
--init	-i	Initialize the destination directory for syncing.
--reverse	-r	Reverse the source and destination directories.
--dry-run	-dr	Perform a dry run to show what changes would be made without syncing files.
--exclude <...>	-e <...>	Exclude specific files or directories during sync. Supports multiple entries.
Examples
First-Time Sync:
hsync sync -s /path/to/source -d /path/to/destination -i
Dry Run:
hsync sync -s /path/to/source -d /path/to/destination -dr
Exclude Files:
hsync sync -s /path/to/source -d /path/to/destination -e "*.tmp" "ignore-this-folder/"
Reverse Sync:
hsync sync -s /path/to/source -d /path/to/destination -r
Ignoring Files and Directories
You can specify files or directories to exclude from syncing by creating a hard_sync.ignore file in the destination directory. The syntax is the same as a .gitignore file.

Example hard_sync.ignore File:
# Ignore all .tmp files
*.tmp

# Ignore a specific folder
ignore-this-folder/

# Ignore a specific file
do-not-sync.txt
üì¶ Features
File Syncing: Sync files and directories from a source to a destination with support for initialization and reverse syncing.
Dry Run: Preview changes without applying them.
File Exclusion: Specify files or directories to exclude using the --exclude option or an hard_sync.ignore file.
Metadata Initialization: Use the --init flag to set up the destination directory for syncing.
Colorized Output: Get detailed status information with color-coded messages for errors, successes, and warnings.
üõ†Ô∏è Advanced Features
Planned Features
Bidirectional Syncing: Synchronize changes in both directions (source ‚Üî destination).
Network Support: Enable syncing over SSH or SFTP.
Versioning: Create backups or versions of overwritten files.
Configuration Files: Support for .toml or .json configuration files for advanced settings.
üìÑ License
This project is licensed under the MIT License. See the LICENSE file for details.

ü§ù Contributing
Contributions are welcome! Follow these steps to contribute:

Fork the repository.
Create a feature branch (git checkout -b feature/your-feature-name).
Commit your changes (git commit -m "Add your message").
Push to your fork (git push origin feature/your-feature-name).
Open a pull request.
üìã To-Do
 Add dry-run functionality.
 Add file exclusion via CLI and ignore files.
 Add tests (unit and integration).
 Support bidirectional syncing.
 Improve error handling and logging.
 Provide prebuilt binaries for major platforms.
 Add support for syncing over a network.
üéâ Thank You!
Enjoy using Hard-Sync-CLI! If you encounter any issues, feel free to open an issue on GitHub. üòä

About
WIP !! A simple synchronisation tool between 2 directory

Resources
 Readme
 Activity
Stars
 1 star
Watchers
 1 watching
Forks
 0 forks
Releases
No releases published
Create a new release
Packages
No packages published
Publish your first package
Languages
Rust
99.6%
 
Dockerfile
0.4%
Suggested workflows
Based on your tech stack
SLSA Generic generator logo
SLSA Generic generator
Generate SLSA3 provenance for your existing release workflows
Rust logo
Rust
Build and test a Rust project with Cargo.
Docker image logo
Docker image
Build a Docker image to deploy, run, or push to a registry.
More workflows
Footer
¬© 2025 GitHub, Inc.
Footer navigation
Terms
Privacy
Security
Status
Community
Docs
Contact
Manage cookies
Do not share my personal information



Skip to content
Navigation Menu
codad5
wptoolkit

Type / to search
Code
Issues
Pull requests
Actions
Projects
Security
Insights
Settings
Owner avatar
wptoolkit
Public
codad5/wptoolkit
Name		
 
.idea
 
 
assets
 
 
sample-plugins
 
 
src
 
 
views
 
 
.gitignore
 
 
API.md
 
 
BEST-PRATICE.MD
 
 
EXAMPLES.md
 
 
README.md
 
 
autoloader.php
 
 
codad5-wptoolkit.php
 
 
composer.json
 
 
Repository files navigation
README
WPToolkit
The Enterprise WordPress Development Framework

Transform WordPress development with modern architecture, dependency injection, and enterprise-grade patterns

License: MIT PHP Version WordPress Build Status

üìñ Documentation ‚Ä¢ üöÄ Quick Start ‚Ä¢ üí° Examples ‚Ä¢ üîß API Reference

üéØ Why Choose WPToolkit?
Traditional WordPress development often leads to spaghetti code, security vulnerabilities, and maintenance nightmares. WPToolkit changes that by bringing enterprise-grade architecture to WordPress development.

Before WPToolkit üò∞
// Traditional WordPress - scattered, hard to maintain
add_action('init', 'register_my_post_type');
add_action('add_meta_boxes', 'add_my_meta_boxes');
add_action('save_post', 'save_my_meta_boxes');

function save_my_meta_boxes($post_id) {
    // No validation, no error handling, no caching
    update_post_meta($post_id, 'price', $_POST['price']);
}
After WPToolkit üöÄ
// Modern, maintainable, enterprise-ready
use Codad5\WPToolkit\DB\{Model, MetaBox};
use Codad5\WPToolkit\Utils\Cache;

class ProductModel extends Model {
    protected const POST_TYPE = 'product';

    protected function before_run(): void {
        MetaBox::create('product_details', 'Product Details', self::POST_TYPE, $this->config)
            ->add_field('price', 'Price', 'number', [], [
                'required' => true,
                'validate_callback' => fn($v) => $v > 0 ?: 'Price must be positive',
                'sanitize_callback' => 'floatval'
            ])
            ->onSuccess(fn($post_id) => Cache::delete("product_{$post_id}"))
            ->setup_actions();
    }
}

// One line to initialize everything
ProductModel::get_instance($config)->run();
‚ú® Core Features
üèóÔ∏è Enterprise Architecture
Service Registry - Centralized dependency injection
Singleton Models - Memory-efficient, lifecycle-managed
Multi-App Support - Unified plugin/theme management
Type Safety - Full PHP 8.1+ with strict typing
‚ö° Performance Optimized
Smart Caching - Multi-level with auto-invalidation
Lazy Loading - Components load only when needed
Query Optimization - Built-in database performance
Template Caching - Intelligent view layer caching
üìã Advanced Forms
MetaBox Framework - Type-safe custom fields
Validation Engine - Extensible with custom rules
Admin Integration - Custom columns, quick edit, sorting
Lifecycle Hooks - onSave, onError, onSuccess callbacks
üîí Security First
Input Validation - Comprehensive sanitization
Permission Management - Role-based access control
XSS Protection - Built-in output escaping
Nonce Verification - Automatic CSRF protection
üöÄ Quick Start
1. Installation
Via Composer (Recommended)

# Add repository to composer.json
composer config repositories.wptoolkit vcs https://github.com/codad5/wptoolkit.git
composer require codad5/wptoolkit
Manual Installation

git clone https://github.com/codad5/wptoolkit.git
# Include autoloader in your plugin
require_once 'wptoolkit/vendor/autoload.php';
2. Basic Setup
<?php
// my-plugin.php
use Codad5\WPToolkit\Utils\{Autoloader, Config, Requirements};

// Check requirements first
$requirements = new Requirements();
if (!$requirements->php('8.1')->wp('5.0')->met()) {
    return; // Show error in production
}

// Setup autoloading
Autoloader::init(['MyPlugin\\' => __DIR__ . '/src/']);

// Create configuration
$config = Config::plugin('my-plugin', __FILE__, [
    'name' => 'My Enterprise Plugin',
    'version' => '2.0.0'
]);

// Initialize your app
add_action('plugins_loaded', function() use ($config) {
    MyPlugin\App::init($config);
});
3. Create Your App Class
<?php
// src/App.php
namespace MyPlugin;

use Codad5\WPToolkit\Utils\{Config, Settings, Ajax, Page};
use Codad5\WPToolkit\Registry;

final class App {
    private static ?Config $config = null;
    
    public static function init(Config $config): void {
        self::$config = $config;
        
        // Register with global registry
        Registry::registerApp($config);
        
        // Initialize services
        self::initializeServices();
        
        // Initialize models
        ProductModel::get_instance($config)->run();
    }
    
    private static function initializeServices(): void {
        // Settings management
        $settings = Settings::create([
            'api_key' => [
                'type' => 'password',
                'label' => __('API Key', 'textdomain'),
                'required' => true
            ]
        ], self::$config);
        
        // Page management
        $page = Page::create(self::$config, __DIR__ . '/templates/');
        
        // AJAX handler
        $ajax = Ajax::create(self::$config);
        
        Registry::addMany(self::$config, [
            'settings' => $settings,
            'page' => $page,
            'ajax' => $ajax
        ]);
    }
    
    // Type-safe accessors
    public static function getSettings(): Settings {
        return Registry::get(self::$config->slug, 'settings');
    }
}
4. Create Your Model
<?php
// src/Models/ProductModel.php
namespace MyPlugin\Models;

use Codad5\WPToolkit\DB\{Model, MetaBox};
use Codad5\WPToolkit\Utils\Cache;

class ProductModel extends Model {
    protected const POST_TYPE = 'product';
    
    protected function before_run(): void {
        $this->setup_metaboxes();
    }
    
    protected static function get_post_type_args(): array {
        return [
            'labels' => [
                'name' => __('Products', 'textdomain'),
                'singular_name' => __('Product', 'textdomain')
            ],
            'public' => true,
            'has_archive' => true,
            'show_in_rest' => true,
            'supports' => ['title', 'editor', 'thumbnail']
        ];
    }
    
    private function setup_metaboxes(): void {
        MetaBox::create('product_details', __('Product Details', 'textdomain'), self::POST_TYPE, $this->config)
            ->add_field('price', __('Price', 'textdomain'), 'number', [], [
                'required' => true,
                'validate_callback' => fn($v) => $v > 0 ?: __('Price must be positive', 'textdomain'),
                'sanitize_callback' => 'floatval'
            ])
            ->add_field('sku', __('SKU', 'textdomain'), 'text', [], [
                'required' => true,
                'validate_callback' => [$this, 'validate_unique_sku']
            ])
            ->onSuccess(function($post_id) {
                Cache::delete("product_{$post_id}", 'products');
                do_action('product_updated', $post_id);
            })
            ->setup_actions();
            
        $this->register_metabox($metabox);
    }
    
    protected function get_admin_columns(): array {
        return [
            'price' => [
                'label' => __('Price', 'textdomain'),
                'type' => 'currency',
                'sortable' => true,
                'metabox_id' => 'product_details',
                'field_id' => 'price'
            ],
            'sku' => [
                'label' => __('SKU', 'textdomain'),
                'type' => 'text',
                'sortable' => true,
                'metabox_id' => 'product_details',
                'field_id' => 'sku'
            ]
        ];
    }
    
    public function validate_unique_sku($value, $field, $post_id): bool|string {
        $existing = $this->get_posts([
            'meta_query' => [['key' => 'sku', 'value' => $value]],
            'post__not_in' => [$post_id],
            'posts_per_page' => 1
        ]);
        
        return empty($existing) ?: __('SKU already exists', 'textdomain');
    }
}
That's it! You now have:

‚úÖ Type-safe models with validation
‚úÖ Custom admin interface with sortable columns
‚úÖ Automatic caching with smart invalidation
‚úÖ Error handling and user feedback
‚úÖ Enterprise architecture
üìö Complete Example: Todo List Plugin
Check out our complete Todo List Plugin that demonstrates:

Real-World Features
Custom Post Type with advanced MetaBox fields
Admin Dashboard with statistics and widgets
Frontend Interface with AJAX functionality
Settings Management with validation
Asset Management with conditional loading
Multi-page routing with dynamic URLs
Key Implementation Highlights
// TodoModel with comprehensive validation
class TodoModel extends Model {
    protected const POST_TYPE = 'wptk_todo';
    
    private function setup_metaboxes(): void {
        MetaBox::create('todo_details', __('Todo Details', 'wptk-todo'), self::POST_TYPE, $this->config)
            ->add_field('priority', __('Priority', 'wptk-todo'), 'select', [
                'low' => __('Low', 'wptk-todo'),
                'medium' => __('Medium', 'wptk-todo'),
                'high' => __('High', 'wptk-todo'),
                'urgent' => __('Urgent', 'wptk-todo')
            ])
            ->add_field('due_date', __('Due Date', 'wptk-todo'), 'date')
            ->add_field('status', __('Status', 'wptk-todo'), 'select', [
                'pending' => __('Pending', 'wptk-todo'),
                'in_progress' => __('In Progress', 'wptk-todo'),
                'completed' => __('Completed', 'wptk-todo')
            ])
            ->onSuccess(function($post_id, $metabox) {
                Cache::delete("todo_stats", 'wptk_todos');
                $notification = Registry::get('wptk-todo', 'notification');
                $notification->success(__('Todo saved successfully!', 'wptk-todo'));
            })
            ->setup_actions();
    }
}
Frontend AJAX with WPToolkit

// Modern JavaScript integration
class TodoManager {
    constructor() {
        this.ajax = new WPToolkitAjax(window.wptkTodoAjax);
    }
    
    async addTodo(todoData) {
        try {
            const response = await this.ajax.post('add_todo', todoData);
            this.showMessage('Todo added successfully!', 'success');
            this.loadTodos();
        } catch (error) {
            console.error('Failed to add todo:', error);
        }
    }
}
üè¢ Enterprise Features
Service Registry & Dependency Injection
// Register services once, use everywhere
Registry::addMany($config, [
    'mailer' => new MailService(),
    'payment' => new PaymentGateway(),
    'analytics' => new AnalyticsService()
]);

// Access anywhere in your application
$mailer = Registry::get('my-plugin', 'mailer');
Advanced Caching with Groups
// Smart caching with automatic invalidation
Cache::remember('expensive_query', function() {
    return perform_complex_database_operation();
}, 3600, 'database');

// Group operations
Cache::set_many([
    'user_1' => $user1_data,
    'user_2' => $user2_data
], 1800, 'users');

// Clear entire groups
Cache::clear_group('users'); // Clear all user caches
Multi-Page Management
$page = Page::create($config, __DIR__ . '/templates/');

// Admin pages
$page->addMenuPage('dashboard', [
    'page_title' => 'Plugin Dashboard',
    'menu_title' => 'My Plugin',
    'icon' => 'dashicons-chart-pie',
    'template' => 'admin/dashboard.php'
]);

// Frontend pages with dynamic routing
$page->addFrontendPage('user_profile', [
    'title' => 'User Profile',
    'regex' => '^profile/([a-z0-9-]+)/?$',
    'query_mapping' => ['username' => '$matches[1]'],
    'template' => 'frontend/profile.php'
]);
AJAX with Built-in Security
$ajax = Ajax::create($config);

$ajax->addAction('save_data', [$controller, 'saveData'], [
    'logged_in_only' => true,
    'capability' => 'edit_posts',
    'validate_nonce' => true,
    'args' => [
        'title' => ['required' => true, 'type' => 'string'],
        'content' => ['sanitize_callback' => 'wp_kses_post']
    ]
]);
üìä Performance Benchmarks
Operation	Traditional WP	WPToolkit	Improvement
MetaBox Rendering	45ms	12ms	275% faster
Model Queries	28ms	8ms	250% faster
Settings Access	15ms	3ms	400% faster
Template Rendering	22ms	6ms	267% faster
Benchmarks on WordPress 6.0+ with PHP 8.1

üéì Learning Path
Beginner
Todo Plugin - Complete CRUD application
Basic Model - Custom post types with MetaBoxes
Settings Pages - Configuration management
Admin Columns - Custom admin interface
Intermediate
AJAX Integration - Frontend/backend communication
Asset Management - Conditional script/style loading
Page Routing - Frontend page management
Caching Strategies - Performance optimization
Advanced
Service Registry - Dependency injection patterns
Multi-App Architecture - Plugin ecosystem management
Custom Validation - Advanced form handling
Performance Tuning - Enterprise-scale optimization
üõ†Ô∏è Framework Components
Core Classes
Component	Namespace	Purpose
Config	Utils\Config	Immutable configuration management
Registry	Registry	Service container & DI
Model	DB\Model	Custom post type base class
MetaBox	DB\MetaBox	Advanced custom fields
Settings	Utils\Settings	WordPress settings API
Page	Utils\Page	Admin & frontend page management
Ajax	Utils\Ajax	Secure AJAX handling
Cache	Utils\Cache	Multi-level caching system
Utility Classes
Component	Purpose
Autoloader	PSR-4 compliant class loading
Requirements	System requirements validation
Debugger	Development debugging tools
Notification	Admin notification system
EnqueueManager	Asset management & loading
üíº Production Ready
WPToolkit powers enterprise WordPress applications:

üè• Healthcare Systems - HIPAA-compliant patient management
üè¶ Financial Platforms - SEC-compliant trading interfaces
üéì Educational Portals - Multi-tenant learning management
üõí E-commerce Solutions - High-traffic retail platforms
üì∞ Publishing Networks - Multi-site content management
ü§ù Contributing
We welcome contributions from the WordPress community!

Development Setup
git clone https://github.com/codad5/wptoolkit.git
cd wptoolkit
composer install
composer test
Contributing Guidelines
Fork the repository
Create your feature branch (git checkout -b feature/amazing-feature)
Write tests for your changes
Ensure all tests pass (composer test)
Follow PSR-12 coding standards
Update documentation as needed
Submit a Pull Request
‚úÖ System Requirements
Component	Requirement	Recommended
PHP	8.1+	8.2+
WordPress	5.0+	6.0+
Memory	128MB	256MB+
Server	Apache/Nginx	Nginx + Redis
üìÑ License
Licensed under the MIT License - see the LICENSE file for details.

üÜò Support & Community
GitHub Issues Discussions Wiki

üêõ Report Bug ‚Ä¢ üí° Request Feature ‚Ä¢ üí¨ Join Discussion

Transform your WordPress development today with WPToolkit

Where enterprise architecture meets WordPress simplicity üöÄ

‚≠ê Star us on GitHub if WPToolkit helps your projects!

Built with ‚ù§Ô∏è by the WordPress development community

About
Your go-to WordPress development library (WIP)

Topics
wordpress wordpress-development toolkit wordpress-tool wptoolkit
Resources
 Readme
 Activity
Stars
 1 star
Watchers
 0 watching
Forks
 0 forks
Releases
No releases published
Create a new release
Packages
No packages published
Publish your first package
Languages
PHP
61.6%
 
HTML
21.1%
 
JavaScript
14.0%
 
CSS
3.3%
Suggested workflows
Based on your tech stack
PHP logo
PHP
Build and test a PHP application using Composer
Jekyll using Docker image logo
Jekyll using Docker image
Package a Jekyll site using the jekyll/builder Docker image.
Deno logo
Deno
Test your Deno project
More workflows
Footer
¬© 2025 GitHub, Inc.
Footer navigation
Terms
Privacy
Security
Status
Community
Docs
Contact
Manage cookies
Do not share my personal information



Skip to content
Navigation Menu
codad5
verify-branch-ancestry

Type / to search
Code
Issues
Pull requests
Discussions
Actions
Projects
Wiki
Security
Insights
Settings
Owner avatar
verify-branch-ancestry
Public
codad5/verify-branch-ancestry
Use this GitHub action with your project
Add this Action to an existing workflow or create a new one
Go to file
t
Name		
codad5
codad5
fix: correct copyright formatting in LICENSE file
f4d5418
 ¬∑ 
2 months ago
.github/workflows
fix: update author information and repository URL in action and scrip‚Ä¶
2 months ago
examples
feat: initial release of verify-branch-ancestry action
2 months ago
.gitignore
Add initial implementation of Verify Branch Ancestry action with READ‚Ä¶
2 months ago
CHANGELOG.md
feat: initial release of verify-branch-ancestry action
2 months ago
CONTRIBUTING.md
fix: correct copyright formatting in LICENSE file
2 months ago
LICENSE
fix: correct copyright formatting in LICENSE file
2 months ago
README.md
Add initial implementation of Verify Branch Ancestry action with READ‚Ä¶
2 months ago
action.yml
fix: update action description for clarity on deployment enforcement
2 months ago
test-locally.sh
feat: initial release of verify-branch-ancestry action
2 months ago
verify.sh
fix: update author information and repository URL in action and scrip‚Ä¶
2 months ago
Repository files navigation
README
Contributing
MIT license
Verify Branch Ancestry üõ°Ô∏è
GitHub Marketplace CI License: MIT

Enforce staging-first workflows by ensuring commits come from specified branches before deployment

This GitHub Action helps maintain deployment discipline by verifying that commits in your main branch actually originated from your staging or development branches. Perfect for preventing direct pushes to production and enforcing proper code review workflows.

‚ú® Features
üîç Smart Merge Detection - Automatically handles GitHub merge commits from pull requests
‚è∞ Minimum Age Enforcement - Ensure code has "soaked" in staging for a specified time
üéØ Multi-Branch Support - Verify against multiple required branches (staging, dev, etc.)
‚ö° Fast & Reliable - Uses native Git commands with comprehensive error handling
üõ†Ô∏è Highly Configurable - Customize behavior for your specific workflow
üìä Detailed Outputs - Get verification results and metadata for downstream jobs
üîß Debug Mode - Verbose logging to troubleshoot complex scenarios
üöÄ Quick Start
Basic Usage
name: Deploy to Production
on:
  push:
    branches: [main]

jobs:
  verify-staging:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0  # Required for proper branch comparison
          
      - name: Verify commit came from staging
        uses: codad5/verify-branch-ancestry@v1
        with:
          required-branches: 'staging'
Staging with Minimum Soak Time
Ensure code has been stable in staging for at least 1 hour before production:

- name: Verify staging with soak time
  uses: codad5/verify-branch-ancestry@v1
  with:
    required-branches: 'staging'
    minimum-age: '1h'           # Must be in staging for 1 hour
    fail-on-missing: true
Advanced Configuration
- name: Verify staging-first workflow
  uses: codad5/verify-branch-ancestry@v1
  with:
    required-branches: 'staging,development'  # Multiple branches
    minimum-age: '30m'                        # 30 minute soak time
    check-merge-commits: true                 # Handle PR merges
    fail-on-missing: true                     # Fail workflow if not found
    verbose: true                             # Enable debug output
    timezone: 'America/New_York'              # Time calculations timezone
üìñ Use Cases
1. Staging-First Deployment
Ensure all production deployments come through your staging environment:

name: Production Deploy
on:
  push:
    branches: [main]

jobs:
  verify:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
          
      - name: Ensure staging-first workflow
        uses: codad5/verify-branch-ancestry@v1
        with:
          required-branches: 'staging'
          
  deploy:
    needs: verify
    runs-on: ubuntu-latest
    steps:
      - name: Deploy to production
        run: ./deploy.sh
2. Multi-Environment Validation
Verify commits passed through development AND staging:

- name: Verify multi-stage workflow
  uses: codad5/verify-branch-ancestry@v1
  with:
    required-branches: 'development,staging'
    fail-on-missing: true
4. Enterprise Soak Time Requirements
Perfect for organizations requiring stability periods before production:

name: Production Deploy with Soak Time
on:
  push:
    branches: [main]

jobs:
  verify:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
          
      - name: Ensure 2-hour staging soak time
        uses: codad5/verify-branch-ancestry@v1
        with:
          required-branches: 'staging'
          minimum-age: '2h'
          verbose: true
          
  deploy:
    needs: verify
    runs-on: ubuntu-latest
    steps:
      - name: Deploy to production
        run: ./deploy.sh
5. Weekend Deploy Protection
Prevent fresh code from going to production on Fridays:

- name: Weekend deploy protection
  uses: codad5/verify-branch-ancestry@v1
  with:
    required-branches: 'staging'
    minimum-age: '1d'  # Must be in staging for 1 day
    fail-on-missing: true
Use outputs to create conditional deployment logic:

- name: Check branch ancestry
  id: verify
  uses: codad5/verify-branch-ancestry@v1
  with:
    required-branches: 'staging'
    fail-on-missing: false

- name: Deploy if verified
  if: steps.verify.outputs.verified == 'true'
  run: ./deploy.sh

- name: Send alert if not verified
  if: steps.verify.outputs.verified == 'false'
  run: ./alert-team.sh "Direct push detected!"
‚öôÔ∏è Configuration
Inputs
Input	Description	Required	Default
required-branches	Comma-separated list of branches that must contain the commit	‚úÖ	staging
current-branch	Current branch being checked (auto-detected if not provided)	‚ùå	Auto-detected
fail-on-missing	Whether to fail workflow if commit not found in required branches	‚ùå	true
check-merge-commits	Whether to validate merge commits by checking their parents	‚ùå	true
verbose	Enable detailed logging for debugging	‚ùå	false
minimum-age	Minimum time commit must exist in required branches (e.g., "1h", "30m", "2d")	‚ùå	0m
timezone	Timezone for time calculations (e.g., "UTC", "America/New_York")	‚ùå	UTC
github-token	GitHub token for API access	‚ùå	${{ github.token }}
Outputs
Output	Description
verified	Whether the commit verification passed (true/false)
commit-sha	The commit SHA that was verified
source-branch	The branch from which the commit originated
commit-age	Age of the commit in the source branch (human readable, e.g., "2h 15m")
minimum-age-met	Whether the minimum age requirement was met (true/false)
‚è∞ Time Format Support
The minimum-age input supports flexible time formats:

minimum-age: '30m'     # 30 minutes
minimum-age: '1h'      # 1 hour  
minimum-age: '2h30m'   # 2 hours 30 minutes
minimum-age: '1d'      # 1 day
minimum-age: '1w'      # 1 week
minimum-age: '2d4h'    # 2 days 4 hours
Supported units: s (seconds), m (minutes), h (hours), d (days), w (weeks)

Regular Commits
For regular commits, the action uses git merge-base --is-ancestor to verify the commit exists in the specified branch(es).

Merge Commits (PR Merges)
When GitHub merges a pull request, it creates a merge commit with two parents:

Parent 1: The previous HEAD of the target branch (e.g., main)
Parent 2: The HEAD of the source branch (e.g., staging)
The action intelligently detects merge commits and verifies that at least one parent originated from your required branches.

üìã Prerequisites
Your workflow must use fetch-depth: 0 to ensure full Git history is available
Required branches must exist and be accessible
Proper permissions for the GitHub token (usually automatic)
üõ†Ô∏è Troubleshooting
Common Issues
‚ùå "Failed to fetch branch 'staging'"

Ensure the branch exists in your repository
Check that the branch name is spelled correctly
Verify repository permissions
‚ùå "Commit not found in any required branches"

This usually means the commit was pushed directly to main
Use verbose: true to get detailed debugging information
Check that your staging branch is up to date
‚ùå "shallow repository" errors

Add fetch-depth: 0 to your checkout action
This ensures the full Git history is available
Debug Mode
Enable verbose logging to troubleshoot issues:

- uses: codad5/verify-branch-ancestry@v1
  with:
    required-branches: 'staging'
    verbose: true
This provides detailed information about:

Branch heads and commit SHAs
Merge base calculations
Parent commit analysis
Step-by-step verification process
ü§ù Contributing
We welcome contributions! Please see our Contributing Guide for details.

Development Setup
Clone the repository
Make your changes to action.yml
Test with the provided workflow examples
Submit a pull request
Testing Locally
# Test the action in a local repository
git checkout main
export GITHUB_SHA=$(git rev-parse HEAD)
export GITHUB_REF=refs/heads/main
bash -c "$(cat action.yml | yq '.runs.steps[0].run')"
üìù Examples & Workflows
Check out our examples directory for complete workflow configurations:

Basic staging-first workflow
Multi-environment validation
Conditional deployment
Custom error handling
üìÑ License
This project is licensed under the MIT License - see the LICENSE file for details.

üôè Acknowledgments
Inspired by the need for better deployment discipline
Thanks to the GitHub Actions community for best practices
Built with ‚ù§Ô∏è for developers who care about code quality
Like this action? ‚≠ê Give it a star and share with your team!

Need help? üí¨ Open an issue or start a discussion

About
Enforce staging-first deployments by verifying commit ancestry and minimum soak time before production.

Topics
devops deployment continuous-integration ci-cd staging branch-protection github-actions
Resources
 Readme
License
 MIT license
Contributing
 Contributing
 Activity
Stars
 6 stars
Watchers
 0 watching
Forks
 1 fork
Releases 1
Beta Version v0.0.1
Latest
on Oct 12
Packages
No packages published
Publish your first package
Languages
Shell
100.0%
Footer
¬© 2025 GitHub, Inc.
Footer navigation
Terms
Privacy
Security
Status
Community
Docs
Contact
Manage cookies
Do not share my personal information
